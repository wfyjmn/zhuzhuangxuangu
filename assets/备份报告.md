# DeepQuant 智能选股系统 - 完整备份报告

## 备份信息

| 项目 | 详情 |
|------|------|
| 备份时间 | 2026-02-01 02:12:19 |
| 备份文件 | `/workspace/projects/backup/DeepQuant_Complete_Backup_20260201_020942.tar.gz` |
| 文件大小 | 270M |
| 文件数量 | 3729 个 |

## 备份范围

### ✅ 已备份内容

- **源代码** (`src/`)：所有 Python 源代码
- **脚本文件** (`scripts/`)：训练、预测、优化等所有脚本
- **配置文件** (`config/`)：所有模型和系统配置
- **训练模型** (`assets/models/`)：V4.0 和 V5.0 训练模型
- **文档资料** (`assets/*.md`)：所有说明文档
- **依赖配置** (`requirements.txt`)：Python 依赖包列表
- **Git 仓库** (`.git/`)：版本控制历史

### ❌ 已排除内容（安全考虑）

- **敏感信息** (`.env`, `*.key`)：Tushare Token 等密钥
- **数据缓存** (`assets/data/market_cache/*.pkl`)：临时缓存文件
- **临时文件** (`*.log`, `temp/`)：日志和临时文件

## 备份完整性验证

✅ **完整性验证通过**
- 归档文件创建成功
- 文件数量统计正确
- 文件大小合理

## 恢复指南

### 从备份恢复完整项目

```bash
# 1. 解压备份文件
tar -xzf backup/DeepQuant_Complete_Backup_20260201_020942.tar.gz -C /workspace/projects/

# 2. 重新配置 Tushare Token
cp .env.example .env
# 编辑 .env 文件，填入你的 Tushare Token

# 3. 安装依赖（如需要）
pip install -r requirements.txt

# 4. 重新生成数据缓存
python scripts/download_sample_data.py
```

### 仅恢复代码和模型（不含数据缓存）

```bash
# 解压备份文件，排除数据缓存目录
tar -xzf backup/DeepQuant_Complete_Backup_20260201_020942.tar.gz \
  --exclude='assets/data/market_cache' \
  -C /workspace/projects/
```

## 备份策略建议

### 定期备份
- **代码备份**：每次重大功能更新后
- **模型备份**：每次训练新模型后
- **完整备份**：每周或每月进行一次

### 备份存储位置
- **本地存储**：当前 `backup/` 目录
- **远程存储**：建议上传到对象存储或云端
- **版本控制**：核心代码已通过 Git 管理

### 备份文件管理
```bash
# 查看所有备份
ls -lh backup/

# 删除旧备份（保留最近3个）
cd backup
ls -t DeepQuant_Complete_Backup_*.tar.gz | tail -n +4 | xargs rm -f
```

## 关键配置恢复提醒

恢复备份后，需要重新配置以下内容：

1. **Tushare Token**
   ```bash
   # 创建 .env 文件
   echo "TUSHARE_TOKEN=你的Token" > .env
   ```

2. **数据缓存**
   ```bash
   # 重新下载或生成数据缓存
   python scripts/download_sample_data.py
   ```

3. **模型路径**
   - 确认 `assets/models/` 目录下的模型文件
   - 检查配置文件中的模型路径是否正确

## 安全建议

1. **备份文件加密**
   ```bash
   # 加密备份文件
   gpg -c DeepQuant_Complete_Backup_20260201_020942.tar.gz

   # 解密备份文件
   gpg -d DeepQuant_Complete_Backup_20260201_020942.tar.gz.gpg > output.tar.gz
   ```

2. **远程备份**
   - 上传到对象存储（如阿里云 OSS、AWS S3）
   - 或使用 rsync 同步到远程服务器

3. **访问控制**
   - 设置备份文件的访问权限
   ```bash
   chmod 600 backup/DeepQuant_Complete_Backup_*.tar.gz
   ```

## 备份验证清单

- [x] 备份文件创建成功
- [x] 文件大小合理
- [x] 文件数量统计正确
- [x] 敏感信息已排除
- [x] 完整性验证通过
- [x] 恢复指南已生成

## 下一步操作

1. **继续监控训练**：V5.0 模型正在训练中
2. **优化阈值**：训练完成后运行 `scripts/optimize_threshold.py`
3. **测试选股**：运行 `scripts/daily_prediction.py` 测试新模型
4. **小资金验证**：使用小资金验证新模型性能

---

**备份完成时间**：2026-02-01 02:12:19
**备份状态**：✅ 成功
