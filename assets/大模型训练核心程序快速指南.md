========================================
大模型训练核心程序和环境配置（快速版）
========================================

项目: DeepQuant V4.0.0_RealMoneyFlow
文档时间: 2026-01-31 23:25

========================================
一、核心程序（3 个文件）
========================================

1. scripts/train_auto_optuna.py (16 KB)
   - Optuna 自动调参训练脚本
   - 100 次超参数优化
   - 5 折时间序列交叉验证

2. src/stock_system/data_collector.py (28 KB)
   - Tushare 数据采集器
   - 获取日线、资金流、复权因子
   - 智能缓存，多线程采集

3. src/stock_system/enhanced_features.py (19 KB)
   - 特征工程（104 个特征）
   - 主力资金、技术指标、市场情绪
   - 支持复权价格计算

========================================
二、环境配置（4 个文件）
========================================

1. requirements.txt (2.5 KB)
   核心依赖:
   - xgboost==3.1.3（机器学习）
   - optuna==4.7.0（超参数优化）
   - pandas==2.2.2（数据处理）
   - numpy==2.2.6（数值计算）
   - scikit-learn==1.8.0（机器学习工具）
   - tushare==1.4.24（数据接口）

   安装: pip install -r requirements.txt

2. config/precision_priority_v4_config.json (3.7 KB)
   - 数据范围: 2021-01-01 ~ 2024-01-01
   - 股票数量: 300 只
   - 标签阈值: 5%
   - Optuna 参数空间
   - XGBoost 模型参数

3. config/tushare_config.json (238 B)
   - API Base: https://api.tushare.pro
   - 超时: 30 秒
   - 重试: 3 次
   - 缓存: 24 小时

4. .env (142 B)
   - TUSHARE_TOKEN=your_token_here
   - 注意: 需要手动创建，不在 Git 仓库中

========================================
三、训练结果
========================================

训练时间: 70 分钟
最佳 F1: 0.37485
最终性能:
- AUC: 0.9470 ✓
- 召回率: 77.21% ✓
- F1: 0.3954 ✓

最佳参数:
- learning_rate: 0.0100
- max_depth: 4
- n_estimators: 583
- scale_pos_weight: 4.62

========================================
四、快速开始
========================================

1. 创建 .env
   echo "TUSHARE_TOKEN=your_token_here" > .env

2. 安装依赖
   pip install -r requirements.txt

3. 运行训练
   python3 scripts/train_auto_optuna.py

========================================
五、输出文件
========================================

模型文件: assets/models/主力资金驱动-高置信度策略_model.pkl (636 KB)
训练日志: assets/training_output.log (279 KB)
训练报告: assets/训练完成报告.md

========================================
