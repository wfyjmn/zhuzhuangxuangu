========================================
DeepQuant 项目备份清单
========================================

备份时间: 2026-01-31 22:10
备份目的: 完整备份对话5改进后的最终程序状态

========================================
核心代码文件
========================================

1. 数据采集器
   文件: src/stock_system/data_collector.py
   大小: 28 KB
   最后修改: 2026-01-31 21:55
   关键改进:
   - 添加 exclude_markets 参数，支持排除指定市场（如北交所BJ）
   - 添加列名映射（vol -> volume, ts_code -> stock_code）
   - 自动加载 .env 环境变量中的 Token

2. 特征工程
   文件: src/stock_system/enhanced_features.py
   大小: 19 KB
   最后修改: 2026-01-31 20:28
   关键功能:
   - 支持真实资金流数据（buy_elg_vol, sell_elg_vol 等）
   - 支持复权价格计算技术指标
   - 104 个特征（主力资金30%、北向资金20%、市场情绪20%、技术指标30%）

3. 训练脚本
   文件: scripts/train_auto_optuna.py
   大小: 16 KB
   最后修改: 2026-01-31 21:53
   关键改进:
   - 排除北交所股票（exclude_markets=['BJ']）
   - Optuna 自动调参（100 次试验）
   - 5 折时间序列交叉验证
   - F1 Score 优化（同时关注精确率和召回率）

========================================
配置文件
========================================

1. 训练配置
   文件: config/precision_priority_v4_config.json
   大小: 3.7 KB
   最后修改: 2026-01-31 20:29
   关键参数:
   - 数据范围: 2021-01-01 ~ 2024-01-01
   - 股票数量: 300 只
   - 标签阈值: 5%（未来 3-5 日收益率）
   - 样本权重: 3.0-8.0（scale_pos_weight）
   - 特征数: 24 个

2. Tushare 配置
   文件: config/tushare_config.json
   大小: < 1 KB
   最后修改: 2026-01-31 20:29
   Token 状态: 已清空（使用 .env 环境变量）

3. 环境变量
   文件: .env
   大小: 142 字节
   最后修改: 2026-01-31 20:38
   Token 状态: 包含真实 Token
   Git 状态: 已排除（.gitignore）

========================================
数据文件
========================================

1. 缓存目录
   路径: assets/data/market_cache/
   状态: 已清空（重新训练时生成）
   说明: 不需要备份，可重新生成

2. 模型目录
   路径: assets/models/
   状态: 空（训练完成后生成）
   说明: 训练完成后生成，需要备份

3. 日志文件
   文件: assets/training_output.log
   大小: 增长中
   状态: 训练进行中
   说明: 训练完成后需要备份

========================================
文档文件
========================================

1. 改进说明
   文件: assets/对话5改进说明.md
   内容: 详细说明对话5的所有改进内容

2. 快速开始
   文件: assets/对话5快速开始.md
   内容: 如何启动训练和监控系统

3. 环境持久化
   文件: assets/环境持久化说明.md
   内容: 环境和数据持久化说明

4. 训练报告
   文件: assets/训练进度汇报.md
   文件: assets/训练状态实时报告.md
   内容: 训练进度和状态报告

========================================
安全状态
========================================

✓ .env 文件已添加到 .gitignore
✓ config/tushare_config.json 的 token 字段已清空
✓ 敏感文件不会被提交到 Git 仓库

========================================
Git 状态
========================================

当前分支: main
领先提交: 2
工作树: 干净（无未提交更改）

最近提交:
1. chore: 添加训练状态实时监控和报告
2. fix: 修复训练脚本数据准备失败问题，成功启动Optuna自动调参训练

========================================
备份说明
========================================

本次备份包含:
- 所有源代码文件
- 所有配置文件（不含敏感信息）
- 所有文档文件
- Git 提交历史

不包含:
- .env 文件（敏感信息）
- 数据缓存（可重新生成）
- 模型文件（训练完成后生成）
- 日志文件（训练完成后生成）

========================================
恢复说明
========================================

如果需要恢复项目:

1. 恢复 .env 文件:
   - 创建新的 .env 文件
   - 添加 TUSHARE_TOKEN=your_token_here

2. 安装依赖:
   pip install -r requirements.txt

3. 启动训练:
   python3 scripts/train_auto_optuna.py

========================================
